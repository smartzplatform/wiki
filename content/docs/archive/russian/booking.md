<!-- TITLE: Контракт аренды -->
<!-- SUBTITLE: Как развернуть контракт Booking -->

С помощью этого смарт-контракта вы можете сдавать в аренду различные объекты любым клиентам без подключения услуг посредников. Указав все необходимые характеристики объекта (квартиры, апартаментов, номера в отеле и т.д.), вы предоставите своим клиентам удобный и простой механизм бронирования жилья. Информация о цене аренды, сроках, комиссии за отмену бронирования и другие данные прописываются в самом смарт-контракте и остаются в блокчейне. 

Арендодатель создает контракт для каждой аренды, что позволяет ставить индивидуальные условия съема. Клиент может отменять бронирование, однако владелец может установить время N (в часах) до даты заезда, после достижения которого бронь можно будет отменить только со штрафом. Клиент начинает аренду только в том случае, если подтверждает, что объект соотвествует заявленному.

# Данные для создания смарт-контракта

На платформе Smartz.io в разделе [Booking](https://staging.smartz.io/deploy/5ad08a85eb5e820006467154/0) необходимо указать:

* **Instance name**: название смарт-контракта;
* **Object description**: описание объекта (например, адрес расположения, площадь и т.д.);
* **Price**: цена аренды объекта за весь период (должна быть больше, чем плата за отмену брони);
* **Url of file with additional description**: URL-адрес файла с дополнительным описанием (фото, PDF или презентация);
* **Hash of file above**: хэш файла (рассчитывается автоматически при загрузке файла с дополнительным описанием);
* **Cancellation fee**: комиссия при отмене бронирования;
* **Start rent time**: дата начала аренды объекта;
* **End rent time**: дата завершения аренды;
* **No cancel time (in hours)**: время в часах до начала аренды, при достижении которого начинают применяться штрафные санкции за отмену аренды;
* **Accept object time (in hours)**: время для клиента после начала аренды, чтобы принять объект.

Указав необходимые данные, вы получите код контракта. Деплой контракта будет осуществлен бесплатно (через кошелек MetaMask).

Вы также можете указать возможность открыть публичный доступ к контракту, поставив галочку на пункте Allow public access to the contract UI.

После деплоя, вы сможете просмотреть развернутый контракт на [Etherscan](https://etherscan.io/), либо перейти к управлению контрактом в разделе «[My contracts](https://platform.smartz.io/dashboard)».

# Информация о контракте 

Вам доступна следующая информация о созданном контракте:

* адрес контракта в Etherscan.

## Функции просмотра

Вы можете воспользоваться функциями просмотра (View functions) для получения информации о состоянии контракта и значениях, связанных с каким-либо адресом или другими условиями, которые вы должны указать. Эти функции не выполняют никакие изменений в блокчейне:

* **Owner**: адрес владельца;
* **Client address**: адрес клиента, арендующего объект;
* **Object description**: описание объекта (например, адрес расположения, площадь и т.д.);
* **Description url**: ссылка на информацию с дополнительным описанием;
* **Description hash**: хэш файла с дополнительным описанием;
* **Start rent time**: дата начала аренды объекта;
* **End rent time**: дата завершения аренды;
* **Rent price**: стоимость аренды;
* **Cancellation fee**: комиссия при отмене бронирования;
* **No cancel time**: время, после которого взимается плана за отмену бронирования;
* **Accept object time**: время, необходимое клиенту для принятия объекта;
* **Get booking state**: статус бронирования.

## Функции записи

Для изменения состояний и значений смарт-контракта нужно воспользоваться функциями записи (Write functions), вносящими новую информацию в блокчейн. Все эти функции потребляют некоторое количество газа: 

* **Refund (customer)** (`refund`): выполнить возврат средств за бронь;
* **Reject payment (owner)** (`rejectPayment`): отклонить платеж, доступно для владельца;
* **Cancel booking (owner)** (`cancelBooking`): отменить бронирование, доступно для владельца;
* **Start rent (customer)** (`startRent`): начать аренду, доступно для клиента;
* **Transfer ownership (owner)** (`transferOwnership`): передать право собственности на контракт, указав адрес нового владельца (только для владельца).
